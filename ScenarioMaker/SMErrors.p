UNIT SMErrors;INTERFACEUSES	Types,	QuickDraw;	CONST	{ Errori }	errNeedSys7 = 3;	errMissingApplRes = 4;	{ An application resource is missing }	errMissingScenRes = 5;	{ A scenario resource is missing }	errOutOfMemory = 6;	errNoPreferences = 7;	errScenarioTooBig = 8;	errScenarioDamaged = 9;	errCloseWindowBeforeCheck = 10;	errNeedDreamDB = 11;	errNeedColor = 12;	errNeed8BitColor = 13;	errScenarioTooRecent = 13;	errUseValidresIDs = 14;	errTooManyColors = 15;	errPeculiar3DPlace = 16;	errMissing3DEn = 17;	errDiskIsFull = 18;	errBoxlWrongFormat = 19;	errChooseAnother = 20;	errTooManyBoxes = 21;	errPlaceResized = 22;	errTooManyLights = 23;	{ Check scenario return codes }	ckNoInfo = 1;			{ √ }	ckContainsV11Data = 2;	{ √ }	ckNoPlace1000 = 3;		{ √ }	ckNoAboutText = 4;		{ √ }	ckNoAboutPict = 5;		{ √ }	ckNoObjForShop = 6;		{ √ }	ckNoShopForPlac = 7;	{ v1.3 }	ckNoBarmanText = 8;		{ √ }	ckNoIconForObj = 9;		{ √ }	ckNoTextForPlac = 10;	{ v1.3 }	ckNoPictForPlac = 11;	{ v1.3 }	ckPlacNotUsed = 12;		{ v1.3 }	ckNoICN = 13;			{ v1,3 }	ckNoIcl4 = 14;	ckNoIcl8 = 15;	ckOverride = 16;		{ v1.3 }	ckNoNctrForLoc = 17;	{ v1.3 }	ckNoMstrForNctr = 18;	{ √ }	ckNoObjForNctr = 19;	{ √ }	ckNoArenForNctr = 20;	{ √ }	ckNoMDeLForNctr = 21;	{ √ }	ckNoTextForNctr = 22;	{ √ }	ckWrongID = 23;			{ √ }	ckNoIconForMstr = 24;	{ √ }	ckNoObjForSpel = 25;	{ √ }	ckNoIconForSpel = 26;	{ √ }	ckNoMstrForWndr = 27;	{ √ }	ckNoSpelForTrap	= 28;	{ √ }	ckNoTextForTrap	= 29;	{ √ }	ckNoRsrcForAdDB = 30;	{ √ }	ckUnacceptableAdDB = 31;{ √ }	ckParamMustBe0 = 32;	{ √ }	ckNoTEXTForMDeL = 33;	{ √ }	ckNoSndForMDeL = 34;	{ √ }	ckUnknownAction = 35;	{ √ }	ckParamUncorrect = 36;	{ √ }	ckNoSpelForMDeL = 37;	{ √ }	ckNoNctrForRidl = 38;	{ v1.3 }	ckNoTrapForLoc = 39;	{ v1.3 }	ckNoRidlForLoc = 40;	{ v1.3 }	ckNoTextForLoc = 41;	{ v1.3 }	ckNoObjForLoc = 42;		{ v1.3 }	ckNoWndrForPlac = 43;	{ v1.3 }	ckNoArenForPlac = 44;	{ v1.3 }	ckNoPlacForPlac = 45;	{ v1.3 }	ckUnusedIcon = 46;		{ v1,3 }	ckNoSpellForScroll = 47; { v2.0 }	ckNoTalkForLoc = 48; { DR4 }	{ Str }	rUntitled = 128;	rCreateScenarioAs = 131;	{ Menu }	kAppleMenu = 128;		kAbout = 1;	kFileMenu = 129;		kNewScenario = 1;		kOpenScenario = 2;		kCheckScenario = 3;		kGrabIcons = 4;		kClose = 5;		kCloseScenario = 6;		kPageSetup = 8;		kPrint = 9;		kQuit = 11;	kEditMenu = 130;		kUndo = 1;		kCut = 3;		kCopy = 4;		kPaste = 5;		kClear = 6;		kGridlines = 8;		kShowPict = 9;	kArenaMenu = 131;		kNewArena = 1;		kOpenArena = 2;		kCloseArena = 3;		kSaveArena =  4;		kArenaInfo = 6;		kShowArenaStructure = 7;	kPlaceMenu = 132;		kNewPlace = 1;		kOpenPlace = 2;		kClosePlace = 3;		kSavePlace = 4;		kPlaceInfo = 6;		kShowPlaceStructure = 7;		kCrunchPlaceIcons = 8;		kChooseFloor = 10;		kChooseRoof = 11;	kSpecialMenu = 133;		kNewText = 1;		kReadTEXT = 2;		kSaveText = 3;		{ REFCON and such }		{ Il refcon 1 è usato per identificare il tipo di finestra. I valori validi sono: }	kMainWindowRefcon = 0;	kWindoidRefCon = -1;	kLogfileRefcon = -2;	kMaterialsRefCon = -3;	{ Nelle finestre di testo, refcon 1 può avere qualsiasi valore > 0. Quello spazio è infatti	utilizzato per memorizzare lo ID della risorsa TEXT corrispondente }	kRefconForID = 1;	{ Gli altri refcon (2-4) sono liberi. Nelle finestre di testo sono usati per memorizzare	i valori attualmente selezionati per gli stili: }	kTMRforSizeAndFont = 4;	{ Size in hiword, font in loword }	kTMRforStyle = 2;	kTMRforColor = 3;	{ Le text window vengono caricate dalla risorsa "WIND" di numero… }	rTextWindowPrototype = 131;	{ Il loro titolo è il nome della risorsa. Lo ID della risorsa sta nel refCon… }{ Weather predefiniti nel Dream database }	resWeather = 'Weat';	kRainyWeather = 128;	kSnowyWeather = 129;	{ 3D Boxes and light }	res3DObject = 'Box ';	res3DBoxList = 'BoxL';	res3DLight = 'SqOb';	res3DLightsList = 'ObjL';{ Prompt per LoadWhat }	rPrompts = 129;	rChoosePlaceStr = 1;	rChooseFloorStr = 4;	rChooseRoofStr = 5;	rChooseArenaStr = 2;	rChooseTextStr = 3;	rWeatherPrompt = 6;	rBackgroundPrompt = 7;	rTextForPlaceLoc = 8;	rItemForPlaceLoc = 9;	rPlaceReachedFromLoc = 10;	rTextDescribingPlace = 11;	rPictDescribingPlace = 12;	rPictForPlaceMap = 13;	rPictForArenaMap = 14;	rChooseBoxStr = 15;	rShopForPlace = 16;	rTrapForLoc = 17;	rRiddleForLoc = 18;	rTalkForLoc = 19;	rEventForLoc = 20;	rEncounterForLoc = 21;	rChooseLightSource = 22;{ Dentro un 3DEn vengono ficcati alcuni dati, in queste posizioni }	kOffsetToBG = $06;	kOffsetToID = $24;	kOffsetToX = $30;	kOffsetToY = $32;	kOffsetToStartX = $4E;	kOffsetToStartY = $52;	kOffsetToStartAngle = $54;	kOffsetToHeight = $68;	kOffsetToAmbientLight = $6E;	kOffsetToMaxLight = $70;	kOffsetToMedLight = $72;	kOffsetToMinLight = $74;	kOffsetToSentinel = $80;	kOffsetToFloor = $88;	kOffsetToRoof = $8A;	kOffsetToWeather = $8E;VAR	mainWindow: WindowPtr;	gDirty: Boolean; { Was main window modified? }	IMPLEMENTATIONEND.