unit	Num2Hex;interfaceuses	types,	QuickDraw,	TextUtils,	Memory,	HyperXCMD;{$MAIN}procedure Esegui (paramPtr: XCMDPtr);IMPLEMENTATION{$S Num2Hex}procedure Esegui (paramPtr: XCMDPtr);VAR	ilNumeroComeStringa, buffer: Str255;	ilNumero: Longint;	state: Integer;begin	WITH paramPtr^ DO BEGIN		{ Converti }		state := HGetState (params[1]);		ZeroToPas (paramPtr, params[1]^, ilNumeroComeStringa);		ilNumero := StrToNum (paramPtr, ilNumeroComeStringa);		IF HiWrd (ilNumero) = 0 THEN			NumToHex (paramPtr, ilNumero, 4, buffer)		ELSE			NumToHex (paramPtr, ilNumero, 8, buffer);						{ Rimetti la handle sorgente come l'hai trovata }		HSetState (params[1], state);		{ restituisci il risultato }		returnValue := PasToZero (paramPtr, buffer);		END { with }end;end. { unit }